<div
    id="mobileContactProfileContainer"
    class="md:hidden bg-white w-[500px] border-top-0 xs:border border-[#e7e7e7] xs:shadow xs:rounded-md 
    xs:mb-3 xs:mx-3 overflow-y-auto"
    :class="[$store.state.isProfilePageOpen ? 'block' : 'hidden']"
>
    <div 
        v-if="$store.state.selectedContact && $store.state.selectedContact.name" 
        class="mobileContactProfileBackIconContainer relative">
        <font-awesome-icon
            icon="fa-solid fa-circle-arrow-left"
            class="mobileContactProfileBackIcon absolute hover:opacity-50 text-2xl top-[8px] xs:top-[5px] left-[8px] xs:left-[5px] 
            cursor-pointer text-[#4158A6]"
            @click="toggleProfilePageOnClick"
        />
    </div>

    <div
        v-if="$store.state.selectedContact && $store.state.selectedContact.name"
        class="mobileContactProfileHeader flex flex-col xs:flex-row py-5 items-center justify-center custom-bottom-shadow bg-gradient-to-br 
        border-b from-[#ffffff] to-[#e7e7e7]"
    >
        <img
            v-if="$store.state.selectedContact.image"
            class="mobileContactProfileImage w-[150px] h-[150px] border object-cover rounded-full shadow-md mb-3 xs:mb-0"
            :src="$store.state.selectedContact.image"
            alt="Portrait Photo"
        />
        <img
            v-else
            class="mobileContactProfilePlaceholderImage w-[150px] h-[150px] border object-cover rounded-full shadow-md mb-3 xs:mb-0"
            src="/src/assets/avatar.png"
            alt="Portrait Photo"
        />
        <div class="flex flex-col items-center xs:items-start justify-center pl-3">
            <h1 class="mobileContactProfileName text-2xl font-bold text-[#4158A6]">{{$store.state.selectedContact.name}}</h1>
            <p  v-if="$store.state.selectedContact.workExperience && $store.state.selectedContact.workExperience.length > 0"
                class="mobileContactProfileTitle text-lg font-semibold leading-5 pb-1 text-[#FF451A]">
                {{$store.state.selectedContact.workExperience[0].title}}
            </p>
            <p  v-if="$store.state.selectedContact.phoneNumber"
                class="mobileContactProfilePhoneNumber text-lg leading-5 pb-1 text-gray-600">
                {{$store.state.selectedContact.phoneNumber}}
            </p>
            <a
                v-if="$store.state.selectedContact.email"
                class="mobileContactProfileEmail text-lg leading-5 pb-1 hover:opacity-50 text-gray-600"
                :href="`mailto:${$store.state.selectedContact.email}`"
            >
                {{$store.state.selectedContact.email}}
            </a>
        </div>
    </div>

    <div class="px-3 xs:px-0">
        <div
            v-if="$store.state.selectedContact.education && $store.state.selectedContact.education.length > 0"
            class="mobileContactProfileEducationCard flex flex-col items-start w-full xs:w-[375px] mx-auto my-4 bg-[#e7e7e7] rounded-md border py-2 px-3 
            shadow-md bg-gradient-to-br from-[#ffffff] to-[#e7e7e7]"
        >
            <h2 class="xs:text-md text-[#4158A6] font-bold w-full border-b border-[#b1bdc7] mb-1">
                Education
            </h2>
            <div
                v-for="education in $store.state.selectedContact.education"
                class="mobileContactProfileEducationList flex flex-row w-full justify-start mb-1"
            >
                <div class="w-[130px] flex-shrink-0">
                    <p class="mobileContactProfileEducationYears font-bold text-gray-800 text-sm xs:text-md">
                        {{education.startYear}} - {{education.endYear}}
                    </p>
                </div>
                <div>
                    <p class="mobileContactProfileEducationInstitution font-bold text-gray-800 text-sm xs:text-md">
                        {{education.institution}}
                    </p>
                    <p class="mobileContactProfileEducationDegree text-gray-600 text-sm xs:text-md">{{education.degree}}</p>
                </div>
            </div>
        </div>

        <div
            v-if="$store.state.selectedContact.workExperience && $store.state.selectedContact.workExperience.length > 0"
            class="mobileContactProfileExperienceCard flex flex-col items-start w-full xs:w-[375px] mx-auto my-4 mb-4 bg-[#e7e7e7] rounded-md border py-2 px-3 
            shadow-md bg-gradient-to-br from-[#ffffff] to-[#e7e7e7]"
        >
            <h2 class="xs:text-md font-bold w-full border-b border-[#b1bdc7] mb-1 text-[#4158A6]">
                Experience
            </h2>
            <div
                v-for="workExperience in $store.state.selectedContact.workExperience"
                class="mobileContactProfileExperienceList flex flex-row w-full justify-start mb-1"
            >
                <div class="w-[130px] flex-shrink-0">
                    <p class="mobileContactProfileExperienceYears font-bold text-gray-800 text-sm xs:text-md">
                        {{workExperience.startYear}} - {{workExperience.endYear ?
                        workExperience.endYear : "Present"}}
                    </p>
                </div>
                <div>
                    <p class="mobileContactProfileExperienceInstitution font-bold text-gray-800 text-sm xs:text-md">
                        {{workExperience.institution}}
                    </p>
                    <p class="mobileContactProfileExperienceTitle text-gray-600 text-sm xs:text-md">{{workExperience.title}}</p>
                </div>
            </div>
        </div>
    </div>
</div>